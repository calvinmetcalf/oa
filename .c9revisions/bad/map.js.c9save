{"ts":1340893230591,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var m;\nvar baseid = 1632887;\nvar oaid = 3145994;\nvar geocoder = new google.maps.Geocoder();\nvar zoom = 8;\nvar center = new google.maps.LatLng(42.04113400940814,-71.795654296875);\nvar marker;\nvar mainLayer;\n\n$(function() {\n        $( \"#tabs\" ).tabs({\n\t\t\tcollapsible: true,\n            selected: -1\n\t\t});\n        $( \"input:submit,input:reset\" ).button();\n        $('input, textarea').placeholder();\n        fusion();\n        popLists();\n\t});\n\nfunction fusion() {\n    \n  m = new google.maps.Map(document.getElementById('map'), {\n      center: center,\n      zoom: zoom,\n      mapTypeId: 'roadmap'\n    });\n\nvar baseLayer = new google.maps.FusionTablesLayer(baseid);\n  baseLayer.setQuery(\"SELECT 'geometry' FROM \" + baseid);\n  baseLayer.setMap(m);\n  baseLayer.setOptions({suppressInfoWindows:true});\n  \n mainLayer = new google.maps.FusionTablesLayer(oaid);\n  mainLayer.setQuery(\"SELECT 'point' FROM \" + oaid + \" WHERE 'Status' = 'Active'\");\n  mainLayer.setMap(m);\n  }\n\nfunction geocode() {\n     var address = document.getElementById(\"address\").value;\n    geocoder.geocode( { 'address': address}, function(results, status) {\n      if (status == google.maps.GeocoderStatus.OK) {\n        m.setCenter(results[0].geometry.location);\n        m.setZoom(14);\n     marker = new google.maps.Marker({\n            map: m, \n            position: results[0].geometry.location\n        });\n      } else {\n        alert(\"Geocode was not successful for the following reason: \" + status);\n      }\n    });\n}\n\nfunction resetgeo() {\n    \n    m.setCenter(center);\n    m.setZoom(zoom);\nmarker.setMap(null);\n}\n\n \n    \n    google.load('visualization', '1', {});\n    \nfunction popLists(){    \n    var querySignText = encodeURIComponent(\"SELECT 'SignType', COUNT() FROM \" + oaid + \" GROUP BY 'SignType'\");\n    var querySign = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + querySignText);\n\tquerySign.send(getSignData);\n    \n    var queryHolderText = encodeURIComponent(\"SELECT 'PermitHoldersName', COUNT() FROM \" + oaid + \" GROUP BY 'PermitHoldersName'\");\n    var queryHolder = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + queryHolderText);\n\tqueryHolder.send(getHolderData);\n            \n    var queryMuniText = encodeURIComponent(\"SELECT 'SignCity', COUNT() FROM \" + oaid + \" GROUP BY 'SignCity'\");\n\tvar queryMuni = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + queryMuniText);\n\tqueryMuni.send(getMuniData);\n}\n\nvar getSignData = MakeData(\"signType\",\" AND 'SignType' like '\")\nvar getHolderData = MakeData(\"holderName\",\" AND 'PermitHoldersName' like '\")\nvar getMuniData = MakeData(\"cityTown\",\" AND 'SignCity' like '\")\n\nfunction MakeData(selectID,querryText){\n\nfunction getData(response) {\n  // Get the number of rows\nvar numRows = response.getDataTable().getNumberOfRows();\n  \n  // Add options to the select menu based on the results\n var typeSelect = document.getElementById(selectID);  \n  for(i = 0; i < numRows; i++) {\n      var ftData = response.getDataTable().getValue(i, 0);\n      if (!ftData)\n     { continue;}\n     else if\n     (String(ftData).indexOf(\",\")>-1)\n     {continue;}\n     else\n     { var newoption = document.createElement('option');\n      newoption.setAttribute('value',querryText + ftData + \"'\");\n    newoption.innerHTML = ftData;\n    typeSelect.appendChild(newoption);}\n  }  \n}\nreturn getData;\n}\n\n\n\nfunction changeMap() {\n  var signType = document.getElementById('signType').value.replace(\"'\", \"\\\\'\");\n  var holderName = document.getElementById('holderName').value.replace(\"'\", \"\\\\'\");\n  var cityTown = document.getElementById('cityTown').value.replace(\"'\", \"\\\\'\");\n  mainLayer.setQuery(\"SELECT 'point' FROM \" + oaid + \" WHERE 'Status' = 'Active' \" + signType + holderName + cityTown);\n \n}\n\n\nfunction lookupPermit() {\n  var permitNum = document.getElementById('permitNumber').value.replace(\"'\", \"\\\\'\");\n  mainLayer.setQuery(\"SELECT 'point' FROM \" + oaid + \" WHERE 'PermitNumber' = '\" + permitNum + \"'\");\n  var centerQueryText = encodeURIComponent(\"SELECT 'Latitude', 'Longitude' FROM \" + oaid + \" WHERE 'PermitNumber' = '\" + permitNum + \"'\");\n /*I have no idea why \"'PermitNumber' = \" works here but \"'PermitNumber' CONTAINS\" does not*/\n var centerQuery = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + centerQueryText);\n  centerQuery.send(zoomTo);\n}\n\nfunction zoomTo(response) {\n\nif (!response) {\n  alert('no response');\n  return;\n}\n\nif (response.isError()) {\n  alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());\n  return;\n} \n\n\n\nm.setCenter(new google.maps.LatLng(\n\n          parseFloat(response.getDataTable().getValue(0, 0)),\n\n          parseFloat(response.getDataTable().getValue(0, 1))\n\n));\n\nm.setZoom(14);\n\n}\n\nfunction resetPermit(){\n      m.setCenter(center);\n    m.setZoom(zoom);\n    changeMap();\n    \n}\n"]],"start1":0,"start2":0,"length1":0,"length2":4888}]],"length":4888}
{"contributors":[],"silentsave":false,"ts":1352129567230,"patch":[[{"diffs":[[1,"var m = new L.Map(\"map\", {\r\n    center: new L.LatLng(42.2, -71),\r\n    zoom: 8,\r\n\tattributionControl: true\r\n});\r\n\r\nnew L.Hash(m);\r\nvar mapQuestAttr = 'Tiles Courtesy of <a href=\"http://www.mapquest.com/\">MapQuest</a> &mdash; ';\r\nvar osmDataAttr = 'Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\r\nvar opt = {\r\n    url: 'http://otile{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.jpeg',\r\n    options: {attribution:mapQuestAttr + osmDataAttr, subdomains:'1234'}\r\n  };\r\nvar mq=L.tileLayer(opt.url,opt.options);\r\nmq.addTo(m);\r\nvar bike=L.geoJson('',{style:style,onEachFeature:popUp}).addTo(m);\r\n$.get(\"bike.geojson\",function(d){bike.addData(d);},\"JSON\");\r\n\r\nfunction style (f) {\r\n    var sopt={opacity:1,weight:3,clickable:true,stroke:true};\r\n    switch (f.properties.FacilityType) {\r\n            case \"Bike lane\": sopt.color = \"#ff0000\"; return sopt;\r\n            case \"Shared use path\":   sopt.color = \"#00ff00\"; return sopt;\r\n            case \"To be determined (retired type - hold for future use, use for unknown faciliy)\":   sopt.color = \"#ffffff\"; return sopt;\r\n            case \"Marked shared lane\": sopt.color = \"#F2A90A\"; return sopt;\r\n            case \"Sign-posted on-road bike route (with no other accommodation on the road surface)\": sopt.color = \"#919191\"; return sopt;\r\n            case \"Bicycle/Pedestrian priority roadway\": sopt.color = \"#FFFB00\"; return sopt;\r\n            case \"Usable bike shoulder (4-5 foot min./moderate volume/speed road, locally identified as a bike facility)\": sopt.color = \"#919191\"; sopt.dashArray=\"5, 5\"; return sopt;\r\n            case \"Hybrid (raod segment with different treatments in each direction of travel)\": sopt.color = \"#919191\"; sopt.dashArray=\"5, 5, 1, 5\"; return sopt;\r\n            case \"Cycle track\": sopt.color = \"#EA00FF\"; sopt.dashArray=\"5, 5, 1, 5\"; return sopt;\r\n        }\r\n        return sopt;\r\n}\r\nfunction popUp(f,l){\r\n    var out = [];\r\n    if (f.properties){\r\n        for(key in f.properties){\r\n            out.push(key+\": \"+f.properties[key]);\r\n        }\r\n        l.bindPopup(out.join(\"<br />\"));\r\n    }\r\n}\r\nfunction mQuery(q){\r\n    var out = function (f){\r\n        if(f.properties.FacilityType!==q){\r\n            return {clickable:false,stroke:false};\r\n        }\r\n    };\r\n    return out;\r\n}\r\n$(function() {\r\n    var select='<div id=\"tabs\"><ul><li><a href=\"#search\">Search</a></li><li><a href=\"#query\">Query</a></li></ul> <div id=\"search\"><form id=\"geocoder\"><input type=\"text\" class=\"tbox\" id=\"address\" placeholder=\"Enter an Address or LatLong\" /><input type=\"submit\" value=\"Search\" id=\"geocode\"/><input type=\"reset\" value=\"Reset\" id=\"resetgeo\"/></form></div><div id=\"query\"><select id=\"selq\"><option value=\"all\">All Types</option></select></div></div>';\r\n    $('body').prepend(select);\r\n    $( \"#tabs\" ).tabs({\r\n            collapsible: true,\r\n            selected: -1\r\n    });\r\n    var all = [\r\n            \"Bike lane\"\r\n            ,\"Shared use path\"\r\n            ,\"To be determined (retired type - hold for future use, use for unknown faciliy)\"\r\n            ,\"Marked shared lane\"\r\n            ,\"Sign-posted on-road bike route (with no other accommodation on the road surface)\"\r\n            ,\"Bicycle/Pedestrian priority roadway\"\r\n            ,\"Usable bike shoulder (4-5 foot min./moderate volume/speed road, locally identified as a bike facility)\"\r\n            ,\"Hybrid (raod segment with different treatments in each direction of travel)\"\r\n            ,\"Cycle track\"\r\n        ];\r\n        $.each(all,function(_i,v){\r\n            $(\"#selq\").append('<option value=\"'+v+'\">'+v+'</option>');\r\n        });\r\n        $(\"#selq\").change(function(){\r\n            bike.eachLayer(function(l){bike.resetStyle(l);});\r\n            var val = $(\"#selq\").val();\r\n            if(val && val!==\"all\"){\r\n                bike.setStyle(mQuery(val));\r\n                \r\n            }\r\n            });\r\n$(\"#geocoder\").submit(geocode);\r\n$(\"#resetgeo\").click(resetgeo);\r\n$(\"#getStatus\").change(function(){\r\n      var val = $(\"#getStatus\").val();\r\n      if(val===\"\"){\r\n        url.rmW(\"Status\");\r\n      }else{\r\n        url.setW(\"Status\",val);\r\n      }\r\n      redo();\r\n    });\r\n\r\nvar old={};\r\nvar marker = new L.Marker();\r\nfunction geocode(){\r\n    old.center=m.getCenter();\r\n    old.zoom=m.getZoom();\r\n var address =$(\"#address\").val();\r\n var gURL = 'http://open.mapquestapi.com/nominatim/v1/search?countrycodes=us&exclude_place_ids=955483008,950010827&viewbox=-76.212158203125%2C44.46123053905882%2C-66.005859375%2C40.107487419012415&bounded=1&format=json&q=';\r\n  $.ajax({\r\n       type: \"GET\",\r\n       url: gURL + address,\r\n       dataType: 'jsonp',\r\n       jsonp: 'json_callback',\r\n       success: function (data, textStatus) {\r\n           if(textStatus==\"success\"){\r\n          var latlng = new L.LatLng(data[0].lat, data[0].lon);\r\n         marker.setLatLng(latlng);\r\n        \r\n         m.addLayer(marker);\r\n         m.setView(latlng,17);\r\n      \r\n           }\r\n       }\r\n  });\r\n  return false;\r\n}\r\n\r\nfunction resetgeo(){\r\n    m.removeLayer(marker);\r\n    m.setView(old.center, old.zoom);\r\n}\r\n});"]],"start1":0,"start2":0,"length1":0,"length2":5077}]],"length":5077,"saved":false}
{"contributors":[],"silentsave":true,"ts":1352129605851,"patch":[[{"diffs":[[0,"    });\r\n   "],[1,"/*"],[0," var all = ["]],"start1":2878,"start2":2878,"length1":24,"length2":26},{"diffs":[[0,"ll = [\r\n"],[-1,""],[0,"        "]],"start1":2898,"start2":2898,"length1":16,"length2":16},{"diffs":[[0,"\n}\r\n"],[1,""],[0,"});"],[-1,"var m;\nvar baseid = 1632887;\nvar oaid = 3145994;\nvar geocoder = new google.maps.Geocoder();\nvar zoom = 8;\nvar center = new google.maps.LatLng(42.04113400940814,-71.795654296875);\nvar marker;\nvar mainLayer;\n\n$(function() {\n        $( \"#tabs\" ).tabs({\n\t\t\tcollapsible: true,\n            selected: -1\n\t\t});\n        $( \"input:submit,input:reset\" ).button();\n        $('input, textarea').placeholder();\n        fusion();\n        popLists();\n\t});\n\nfunction fusion() {\n    \n  m = new google.maps.Map(document.getElementById('map'), {\n      center: center,\n      zoom: zoom,\n      mapTypeId: 'roadmap'\n    });\n\nvar baseLayer = new google.maps.FusionTablesLayer(baseid);\n  baseLayer.setQuery(\"SELECT 'geometry' FROM \" + baseid);\n  baseLayer.setMap(m);\n  baseLayer.setOptions({suppressInfoWindows:true});\n  \n mainLayer = new google.maps.FusionTablesLayer(oaid);\n  mainLayer.setQuery(\"SELECT 'point' FROM \" + oaid + \" WHERE 'Status' = 'Active'\");\n  mainLayer.setMap(m);\n  }\n\nfunction geocode() {\n     var address = document.getElementById(\"address\").value;\n    geocoder.geocode( { 'address': address}, function(results, status) {\n      if (status == google.maps.GeocoderStatus.OK) {\n        m.setCenter(results[0].geometry.location);\n        m.setZoom(14);\n     marker = new google.maps.Marker({\n            map: m, \n            position: results[0].geometry.location\n        });\n      } else {\n        alert(\"Geocode was not successful for the following reason: \" + status);\n      }\n    });\n}\n\nfunction resetgeo() {\n    \n    m.setCenter(center);\n    m.setZoom(zoom);\nmarker.setMap(null);\n}\n\n \n    \n    google.load('visualization', '1', {});\n    \nfunction popLists(){    \n    var querySignText = encodeURIComponent(\"SELECT 'SignType', COUNT() FROM \" + oaid + \" GROUP BY 'SignType'\");\n    var querySign = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + querySignText);\n\tquerySign.send(getSignData);\n    \n    var queryHolderText = encodeURIComponent(\"SELECT 'PermitHoldersName', COUNT() FROM \" + oaid + \" GROUP BY 'PermitHoldersName'\");\n    var queryHolder = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + queryHolderText);\n\tqueryHolder.send(getHolderData);\n            \n    var queryMuniText = encodeURIComponent(\"SELECT 'SignCity', COUNT() FROM \" + oaid + \" GROUP BY 'SignCity'\");\n\tvar queryMuni = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + queryMuniText);\n\tqueryMuni.send(getMuniData);\n}\n\nvar getSignData = MakeData(\"signType\",\" AND 'SignType' like '\")\nvar getHolderData = MakeData(\"holderName\",\" AND 'PermitHoldersName' like '\")\nvar getMuniData = MakeData(\"cityTown\",\" AND 'SignCity' like '\")\n\nfunction MakeData(selectID,querryText){\n\nfunction getData(response) {\n  // Get the number of rows\nvar numRows = response.getDataTable().getNumberOfRows();\n  \n  // Add options to the select menu based on the results\n var typeSelect = document.getElementById(selectID);  \n  for(i = 0; i < numRows; i++) {\n      var ftData = response.getDataTable().getValue(i, 0);\n      if (!ftData)\n     { continue;}\n     else if\n     (String(ftData).indexOf(\",\")>-1)\n     {continue;}\n     else\n     { var newoption = document.createElement('option');\n      newoption.setAttribute('value',querryText + ftData + \"'\");\n    newoption.innerHTML = ftData;\n    typeSelect.appendChild(newoption);}\n  }  \n}\nreturn getData;\n}\n\n\n\nfunction changeMap() {\n  var signType = document.getElementById('signType').value.replace(\"'\", \"\\\\'\");\n  var holderName = document.getElementById('holderName').value.replace(\"'\", \"\\\\'\");\n  var cityTown = document.getElementById('cityTown').value.replace(\"'\", \"\\\\'\");\n  mainLayer.setQuery(\"SELECT 'point' FROM \" + oaid + \" WHERE 'Status' = 'Active' \" + signType + holderName + cityTown);\n \n}\n\n\nfunction lookupPermit() {\n  var permitNum = document.getElementById('permitNumber').value.replace(\"'\", \"\\\\'\");\n  mainLayer.setQuery(\"SELECT 'point' FROM \" + oaid + \" WHERE 'PermitNumber' = '\" + permitNum + \"'\");\n  var centerQueryText = encodeURIComponent(\"SELECT 'Latitude', 'Longitude' FROM \" + oaid + \" WHERE 'PermitNumber' = '\" + permitNum + \"'\");\n /*I have no idea why \"'PermitNumber' = \" works here but \"'PermitNumber' CONTAINS\" does not*/\n var centerQuery = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + centerQueryText);\n  centerQuery.send(zoomTo);\n}\n\nfunction zoomTo(response) {\n\nif (!response) {\n  alert('no response');\n  return;\n}\n\nif (response.isError()) {\n  alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());\n  return;\n} \n\n\n\nm.setCenter(new google.maps.LatLng(\n\n          parseFloat(response.getDataTable().getValue(0, 0)),\n\n          parseFloat(response.getDataTable().getValue(0, 1))\n\n));\n\nm.setZoom(14);\n\n}\n\nfunction resetPermit(){\n      m.setCenter(center);\n    m.setZoom(zoom);\n    changeMap();\n    \n}\n"]],"start1":5072,"start2":5072,"length1":4895,"length2":7}]],"length":5079,"saved":false}
{"ts":1352129609509,"patch":[[{"diffs":[[0,"     });"],[1,"*"],[0,"\r\n$(\"#ge"]],"start1":3879,"start2":3879,"length1":16,"length2":17}]],"length":5080,"saved":false}
{"ts":1352129610857,"patch":[[{"diffs":[[0,"    });*"],[1,"/"],[0,"\r\n$(\"#ge"]],"start1":3880,"start2":3880,"length1":16,"length2":17}]],"length":5081,"saved":false}
{"ts":1352129635727,"patch":[[{"diffs":[[0,";},\"JSON"],[1,"P"],[0,"\");\r\n\r\nf"]],"start1":683,"start2":683,"length1":16,"length2":17}]],"length":5082,"saved":false}
{"ts":1352129644104,"patch":[[{"diffs":[[0,"get("],[-1,"\"bike.geojson\""],[1,"burl"],[0,",fun"]],"start1":637,"start2":637,"length1":22,"length2":12}]],"length":5072,"saved":false}
{"ts":1352129672623,"patch":[[{"diffs":[[0,"To(m);\r\n"],[1,"\r\n"],[0,"$.get(bu"]],"start1":627,"start2":627,"length1":16,"length2":18}]],"length":5074,"saved":false}
{"ts":1352129674176,"patch":[[{"diffs":[[0,"To(m);\r\n"],[1,"var"],[0,"\r\n$.get("]],"start1":627,"start2":627,"length1":16,"length2":19}]],"length":5077,"saved":false}
{"ts":1352129677116,"patch":[[{"diffs":[[0,"m);\r\nvar"],[1," burl = \"https://www.googleapis.com/fusiontables/v1/query?sql=SELECT+*+FROM+1pKcL56yFhuvMwotxhBfyORvj6a6vC632YSjY9k4&key=AIzaSyBvl2Lx_Tj-9N_fT9arfnl8utRkVPe50uA\""],[0,"\r\n$.get("]],"start1":630,"start2":630,"length1":16,"length2":177}]],"length":5238,"saved":false}
{"ts":1352129691844,"patch":[[{"diffs":[[0,"'',{"],[-1,"style:style,"],[0,"onEa"]],"start1":586,"start2":586,"length1":20,"length2":8}]],"length":5226,"saved":false}
{"ts":1352129721207,"patch":[[{"diffs":[[0,");\r\n"],[-1,"var burl = \"https://www.googleapis.com/fusiontables/v1/query?sql=SELECT+*+FROM+1pKcL56yFhuvMwotxhBfyORvj6a6vC632YSjY9k4&key=AIzaSyBvl2Lx_Tj-9N_fT9arfnl8utRkVPe50uA\""],[0,"\r\n$."]],"start1":619,"start2":619,"length1":172,"length2":8}]],"length":5062,"saved":false}
{"ts":1352129727045,"patch":[[{"diffs":[[0,"get("],[-1,"burl"],[1,"\"bik"],[0,",fun"]],"start1":627,"start2":627,"length1":12,"length2":12}]],"length":5062,"saved":false}
{"ts":1352129728015,"patch":[[{"diffs":[[0,"get(\"bik"],[1,"e."],[0,",functio"]],"start1":627,"start2":627,"length1":16,"length2":18}]],"length":5064,"saved":false}
{"ts":1352129730512,"patch":[[{"diffs":[[0,"t(\"bike."],[1,"geojson\"\""],[0,",functio"]],"start1":629,"start2":629,"length1":16,"length2":25}]],"length":5073,"saved":false}
{"ts":1352129731993,"patch":[[{"diffs":[[0,"geojson\""],[-1,"\""],[0,",functio"]],"start1":637,"start2":637,"length1":17,"length2":16}]],"length":5072,"saved":false}
{"ts":1352129743402,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"function style (f) {\r\n    var sopt={opacity:1,weight:3,clickable:true,stroke:true};\r\n    switch (f.properties.FacilityType) {\r\n            case \"Bike lane\": sopt.color = \"#ff0000\"; return sopt;\r\n            case \"Shared use path\":   sopt.color = \"#00ff00\"; return sopt;\r\n            case \"To be determined (retired type - hold for future use, use for unknown faciliy)\":   sopt.color = \"#ffffff\"; return sopt;\r\n            case \"Marked shared lane\": sopt.color = \"#F2A90A\"; return sopt;\r\n            case \"Sign-posted on-road bike route (with no other accommodation on the road surface)\": sopt.color = \"#919191\"; return sopt;\r\n            case \"Bicycle/Pedestrian priority roadway\": sopt.color = \"#FFFB00\"; return sopt;\r\n            case \"Usable bike shoulder (4-5 foot min./moderate volume/speed road, locally identified as a bike facility)\": sopt.color = \"#919191\"; sopt.dashArray=\"5, 5\"; return sopt;\r\n            case \"Hybrid (raod segment with different treatments in each direction of travel)\": sopt.color = \"#919191\"; sopt.dashArray=\"5, 5, 1, 5\"; return sopt;\r\n            case \"Cycle track\": sopt.color = \"#EA00FF\"; sopt.dashArray=\"5, 5, 1, 5\"; return sopt;\r\n        }\r\n        return sopt;\r\n}"],[0,"\r\nfu"]],"start1":685,"start2":685,"length1":1208,"length2":8}]],"length":3872,"saved":false}
{"ts":1352129749473,"patch":[[{"diffs":[[0,";},\"JSON"],[-1,"P"],[0,"\");\r\n\r\n\r"]],"start1":673,"start2":673,"length1":17,"length2":16}]],"length":3871,"saved":false}
{"ts":1352130079175,"patch":[[{"diffs":[[0,"(m);\r\n\r\n"],[1,"//"],[0,"$.get(\"b"]],"start1":617,"start2":617,"length1":16,"length2":18}]],"length":3873,"saved":false}
{"ts":1352131402347,"patch":[[{"diffs":[[0,"(m);\r\n\r\n"],[-1,"//"],[0,"$.get(\"b"]],"start1":617,"start2":617,"length1":18,"length2":16}]],"length":3871,"saved":false}
{"ts":1352131411384,"patch":[[{"diffs":[[0,"$.get(\"b"],[-1,"ike"],[1,"adsign"],[0,".geojson"]],"start1":625,"start2":625,"length1":19,"length2":22}]],"length":3874,"saved":false}
{"ts":1352131590283,"patch":[[{"diffs":[[0,"li><"],[-1,"li><a href=\"#query\">Query</a></li><"],[0,"/ul>"]],"start1":1177,"start2":1177,"length1":43,"length2":8}]],"length":3839,"saved":false}
{"ts":1352131609826,"patch":[[{"diffs":[[0,"iv><"],[-1,"div id=\"query\"><select id=\"selq\"><option value=\"all\">All Types</option></select></div><"],[0,"/div"]],"start1":1421,"start2":1421,"length1":95,"length2":8}]],"length":3752,"saved":false}
{"ts":1352131787048,"patch":[[{"diffs":[[0,"   });\r\n"],[1,"    \r\n"],[0,"   /* va"]],"start1":1550,"start2":1550,"length1":16,"length2":22}]],"length":3758,"saved":false}
{"ts":1352131790361,"patch":[[{"diffs":[[0,"   });\r\n"],[-1,"    \r\n"],[0,"   /* va"]],"start1":1550,"start2":1550,"length1":22,"length2":16}]],"length":3752,"saved":false}
{"ts":1352131793617,"patch":[[{"diffs":[[0,"   });\r\n"],[1,"$( \"input:submit,input:reset\" ).button();"],[0,"   /* va"]],"start1":1550,"start2":1550,"length1":16,"length2":57}]],"length":3793,"saved":false}
{"ts":1352131795179,"patch":[[{"diffs":[[0,"utton();"],[-1,"   "],[1,"\r\n"],[0,"/* var a"]],"start1":1591,"start2":1591,"length1":19,"length2":18}]],"length":3792,"saved":false}
{"ts":1352132178492,"patch":[[{"diffs":[[0,");\r\n"],[-1,"/* var all = [\r\n            \"Bike lane\"\r\n            ,\"Shared use path\"\r\n            ,\"To be determined (retired type - hold for future use, use for unknown faciliy)\"\r\n            ,\"Marked shared lane\"\r\n            ,\"Sign-posted on-road bike route (with no other accommodation on the road surface)\"\r\n            ,\"Bicycle/Pedestrian priority roadway\"\r\n            ,\"Usable bike shoulder (4-5 foot min./moderate volume/speed road, locally identified as a bike facility)\"\r\n            ,\"Hybrid (raod segment with different treatments in each direction of travel)\"\r\n            ,\"Cycle track\"\r\n        ];\r\n        $.each(all,function(_i,v){\r\n            $(\"#selq\").append('<option value=\"'+v+'\">'+v+'</option>');\r\n        });\r\n        $(\"#selq\").change(function(){\r\n            bike.eachLayer(function(l){bike.resetStyle(l);});\r\n            var val = $(\"#selq\").val();\r\n            if(val && val!==\"all\"){\r\n                bike.setStyle(mQuery(val));\r\n                \r\n            }\r\n            });*/\r\n$(\"#geocoder\").submi"],[0,"t(ge"]],"start1":1597,"start2":1597,"length1":1029,"length2":8}]],"length":2771,"saved":false}
{"ts":1352132183472,"patch":[[{"diffs":[[0,"\n}\r\n"],[-1,"function mQuery(q){\r\n    var out = function (f){\r\n        if(f.properties.FacilityType!==q){\r\n            return {clickable:false,stroke:false};\r\n        }\r\n    };\r\n    return out;\r\n}"],[0,"\r\n$("]],"start1":903,"start2":903,"length1":191,"length2":8}]],"length":2588,"saved":false}
{"ts":1352132248144,"patch":[[{"diffs":[[0,"  }\r\n}\r\n"],[1,"function mQuery(q){\r\n    var out = function (f){\r\n        if(f.properties.FacilityType!==q){\r\n            return {clickable:false,stroke:false};\r\n        }\r\n    };\r\n    return out;\r\n}"],[0,"\r\n"],[-1,""],[0,"$(functi"]],"start1":899,"start2":899,"length1":18,"length2":201},{"diffs":[[0,"   });\r\n"],[1,"    "],[0,"$( \"inpu"]],"start1":1550,"start2":1550,"length1":16,"length2":20},{"diffs":[[0,"ton();\r\n"],[1,"   /* var all = [\r\n            \"Bike lane\"\r\n            ,\"Shared use path\"\r\n            ,\"To be determined (retired type - hold for future use, use for unknown faciliy)\"\r\n            ,\"Marked shared lane\"\r\n            ,\"Sign-posted on-road bike route (with no other accommodation on the road surface)\"\r\n            ,\"Bicycle/Pedestrian priority roadway\"\r\n            ,\"Usable bike shoulder (4-5 foot min./moderate volume/speed road, locally identified as a bike facility)\"\r\n            ,\"Hybrid (raod segment with different treatments in each direction of travel)\"\r\n            ,\"Cycle track\"\r\n        ];\r\n        $.each(all,function(_i,v){\r\n            $(\"#selq\").append('<option value=\"'+v+'\">'+v+'</option>');\r\n        });\r\n        $(\"#selq\").change(function(){\r\n            bike.eachLayer(function(l){bike.resetStyle(l);});\r\n            var val = $(\"#selq\").val();\r\n            if(val && val!==\"all\"){\r\n                bike.setStyle(mQuery(val));\r\n                \r\n            }\r\n            });*/\r\n$(\"#geocoder\").submi"],[0,"t(geocod"]],"start1":1597,"start2":1597,"length1":16,"length2":1040}]],"length":3799,"saved":false}
{"ts":1352132249160,"patch":[[{"diffs":[[0,"    "],[-1,"$( \"input:submit,input:reset\" ).button();"],[0,"\r\n  "]],"start1":1558,"start2":1558,"length1":49,"length2":8}]],"length":3758,"saved":false}
{"ts":1352132251064,"patch":[[{"diffs":[[0,"   });\r\n    "],[1,"$( \"input:submit,input:reset\" ).button();"],[0,"\r\n   /* var "]],"start1":1550,"start2":1550,"length1":24,"length2":65}]],"length":3799,"saved":false}
{"ts":1352132258684,"patch":[[{"diffs":[[0,";\r\n "],[-1,"  /* var all = [\r\n            \"Bike lane\"\r\n            ,\"Shared use path\"\r\n            ,\"To be determined (retired type - hold for future use, use for unknown faciliy)\"\r\n            ,\"Marked shared lane\"\r\n            ,\"Sign-posted on-road bike route (with no other accommodation on the road surface)\"\r\n            ,\"Bicycle/Pedestrian priority roadway\"\r\n            ,\"Usable bike shoulder (4-5 foot min./moderate volume/speed road, locally identified as a bike facility)\"\r\n            ,\"Hybrid (raod segment with different treatments in each direction of travel)\"\r\n            ,\"Cycle track\"\r\n        ];\r\n        $.each(all,function(_i,v){\r\n            $(\"#selq\").append('<option value=\"'+v+'\">'+v+'</option>');\r\n        });\r\n        $(\"#selq\").change(function(){\r\n            bike.eachLayer(function(l){bike.resetStyle(l);});\r\n            var val = $(\"#selq\").val();\r\n            if(val && val!==\"all\"){\r\n                bike.setStyle(mQuery(val));\r\n                \r\n            }\r\n            });*/"],[0,"\r\n$("]],"start1":1602,"start2":1602,"length1":1009,"length2":8}]],"length":2798,"saved":false}
{"ts":1352132259603,"patch":[[{"diffs":[[0,"ton();\r\n"],[-1," \r\n"],[0,"$(\"#geoc"]],"start1":1597,"start2":1597,"length1":19,"length2":16}]],"length":2795,"saved":false}
{"ts":1352132281345,"patch":[[{"diffs":[[0,"N\");\r\n\r\n"],[1,"var lc=L.control.layers(baseMaps, overlayMaps);"],[0,"\r\nfuncti"]],"start1":683,"start2":683,"length1":16,"length2":63}]],"length":2842,"saved":false}
{"ts":1352132302908,"patch":[[{"diffs":[[0,"},\"JSON\");\r\n"],[1,"var baseMaps = {\r\n    \"Map Quest\": mq"],[0,"\r\nvar lc=L.c"]],"start1":677,"start2":677,"length1":24,"length2":61}]],"length":2879,"saved":false}
{"ts":1352132304694,"patch":[[{"diffs":[[0,"t\": mq\r\n"],[1,"}\r\n"],[0,"var lc=L"]],"start1":720,"start2":720,"length1":16,"length2":19}]],"length":2882,"saved":false}
{"ts":1352132305174,"patch":[[{"diffs":[[0," mq\r\n}\r\n"],[1,"\r\n"],[0,"var lc=L"]],"start1":723,"start2":723,"length1":16,"length2":18}]],"length":2884,"saved":false}
{"ts":1352132318897,"patch":[[{"diffs":[[0," mq\r\n}\r\n"],[1,"var overlayMaps = {"],[0,"\r\nvar lc"]],"start1":723,"start2":723,"length1":16,"length2":35}]],"length":2903,"saved":false}
{"ts":1352132325015,"patch":[[{"diffs":[[0,";\r\nvar b"],[-1,"ike"],[1,"adSign"],[0,"=L.geoJs"]],"start1":564,"start2":564,"length1":19,"length2":22}]],"length":2906,"saved":false}
{"ts":1352132329300,"patch":[[{"diffs":[[0,"d){b"],[-1,"ike"],[1,"adSign"],[0,".add"]],"start1":661,"start2":661,"length1":11,"length2":14}]],"length":2909,"saved":false}
{"ts":1352132332854,"patch":[[{"diffs":[[0,"ps = {\r\n"],[1,"    badSign\r\n"],[0,"var lc=L"]],"start1":750,"start2":750,"length1":16,"length2":29}]],"length":2922,"saved":false}
{"ts":1352132335378,"patch":[[{"diffs":[[0," badSign"],[1,"}"],[0,"\r\nvar lc"]],"start1":761,"start2":761,"length1":16,"length2":17}]],"length":2923,"saved":false}
{"ts":1352132338116,"patch":[[{"diffs":[[0," {\r\n    "],[1,"\"B\""],[0,"badSign}"]],"start1":754,"start2":754,"length1":16,"length2":19}]],"length":2926,"saved":false}
{"ts":1352132340117,"patch":[[{"diffs":[[0,"\r\n    \"B"],[1,"ad SI"],[0,"\"badSign"]],"start1":756,"start2":756,"length1":16,"length2":21}]],"length":2931,"saved":false}
{"ts":1352132341892,"patch":[[{"diffs":[[0,"ad S"],[-1,"I"],[1,"igns"],[0,"\"bad"]],"start1":764,"start2":764,"length1":9,"length2":12}]],"length":2934,"saved":false}
{"ts":1352132345109,"patch":[[{"diffs":[[0,"d Signs\""],[1,":"],[0,"badSign}"]],"start1":765,"start2":765,"length1":16,"length2":17}]],"length":2935,"saved":false}
{"ts":1352132349099,"patch":[[{"diffs":[[0,":badSign"],[1,"\r\n    \r\n"],[0,"}\r\nvar l"]],"start1":773,"start2":773,"length1":16,"length2":24}]],"length":2943,"saved":false}
{"ts":1352132362908,"patch":[[{"diffs":[[0,"rlayMaps);\r\n"],[1,"lc.addTo(m);\r\n"],[0,"function pop"]],"start1":829,"start2":829,"length1":24,"length2":38}]],"length":2957,"saved":false}
{"ts":1352132772893,"patch":[[{"diffs":[[0,"';\r\nvar "],[1,"m"],[0,"opt = {\r"]],"start1":342,"start2":342,"length1":16,"length2":17}]],"length":2958,"saved":false}
{"ts":1352132780487,"patch":[[{"diffs":[[0,"leLayer("],[1,"m"],[0,"opt.url,"]],"start1":523,"start2":523,"length1":16,"length2":17}]],"length":2959,"saved":false}
{"ts":1352132784588,"patch":[[{"diffs":[[0,"opt.url,"],[1,"m"],[0,"opt.opti"]],"start1":532,"start2":532,"length1":16,"length2":17}]],"length":2960,"saved":false}
{"ts":1352132788601,"patch":[[{"diffs":[[0,"34'}\r\n  };\r\n"],[1,"  \r\n"],[0,"var mq=L.til"]],"start1":500,"start2":500,"length1":24,"length2":28}]],"length":2964,"saved":false}
{"ts":1352132792541,"patch":[[{"diffs":[[0,"\r\n  };\r\n"],[-1," "],[1,"var osm ="],[0," \r\nvar m"]],"start1":504,"start2":504,"length1":17,"length2":25}]],"length":2972,"saved":false}
{"ts":1352132795067,"patch":[[{"diffs":[[0,"r osm = "],[1,"L.tile"],[0,"\r\nvar mq"]],"start1":514,"start2":514,"length1":16,"length2":22}]],"length":2978,"saved":false}
{"ts":1352132797360,"patch":[[{"diffs":[[0,"= L.tile"],[1,"Layer()"],[0,"\r\nvar mq"]],"start1":520,"start2":520,"length1":16,"length2":23}]],"length":2985,"saved":false}
{"ts":1352132798918,"patch":[[{"diffs":[[0,"leLayer("],[1,"http://[abc].tile.openstreetmap.org/zoom/x/y.png"],[0,")\r\nvar m"]],"start1":526,"start2":526,"length1":16,"length2":64}]],"length":3033,"saved":false}
{"ts":1352132801242,"patch":[[{"diffs":[[0,"/x/y.png"],[1,"\""],[0,")\r\nvar m"]],"start1":574,"start2":574,"length1":16,"length2":17}]],"length":3034,"saved":false}
{"ts":1352132806171,"patch":[[{"diffs":[[0,"leLayer("],[1,"\"\""],[0,"http://["]],"start1":526,"start2":526,"length1":16,"length2":18}]],"length":3036,"saved":false}
{"ts":1352132808677,"patch":[[{"diffs":[[0,"eLayer(\""],[-1,"\""],[0,"http://["]],"start1":527,"start2":527,"length1":17,"length2":16}]],"length":3035,"saved":false}
{"ts":1352132816627,"patch":[[{"diffs":[[0,"p://"],[-1,"[abc]"],[1,"{s}"],[0,".til"]],"start1":538,"start2":538,"length1":13,"length2":11}]],"length":3033,"saved":false}
{"ts":1352132822150,"patch":[[{"diffs":[[0,"map.org/"],[1,"{"],[0,"zoom"],[1,"}z}"],[0,"/x/y.png"]],"start1":561,"start2":561,"length1":20,"length2":24}]],"length":3037,"saved":false}
{"ts":1352132824688,"patch":[[{"diffs":[[0,"rg/{"],[-1,"zoom}"],[0,"z}/x"]],"start1":566,"start2":566,"length1":13,"length2":8}]],"length":3032,"saved":false}
{"ts":1352132834827,"patch":[[{"diffs":[[0,"org/{z}/"],[-1,"x"],[1,"{"],[0,"/y.png\")"]],"start1":565,"start2":565,"length1":17,"length2":17}]],"length":3032,"saved":false}
{"ts":1352132836584,"patch":[[{"diffs":[[0,"rg/{z}/{"],[1,"x"],[0,"/y.png\")"]],"start1":566,"start2":566,"length1":16,"length2":17}]],"length":3033,"saved":false}
{"ts":1352132837237,"patch":[[{"diffs":[[0,"g/{z}/{x"],[1,"}"],[0,"/y.png\")"]],"start1":567,"start2":567,"length1":16,"length2":17}]],"length":3034,"saved":false}
{"ts":1352132839699,"patch":[[{"diffs":[[0,"{z}/{x}/"],[-1,"y"],[0,".png\")\r\n"]],"start1":569,"start2":569,"length1":17,"length2":16}]],"length":3033,"saved":false}
{"ts":1352132841855,"patch":[[{"diffs":[[0,"{z}/{x}/"],[1,"{y"],[0,".png\")\r\n"]],"start1":569,"start2":569,"length1":16,"length2":18}]],"length":3035,"saved":false}
{"ts":1352132842986,"patch":[[{"diffs":[[0,"}/{x}/{y"],[1,"}"],[0,".png\")\r\n"]],"start1":571,"start2":571,"length1":16,"length2":17}]],"length":3036,"saved":false}
{"ts":1352132873168,"patch":[[{"diffs":[[0,"{y}.png\""],[1,","],[0,")\r\nvar m"]],"start1":577,"start2":577,"length1":16,"length2":17}]],"length":3037,"saved":false}
{"ts":1352132874774,"patch":[[{"diffs":[[0,"y}.png\","],[1,"{}"],[0,")\r\nvar m"]],"start1":578,"start2":578,"length1":16,"length2":18}]],"length":3039,"saved":false}
{"ts":1352132879308,"patch":[[{"diffs":[[0,"}.png\",{"],[1,"attribution:"],[0,"})\r\nvar "]],"start1":579,"start2":579,"length1":16,"length2":28}]],"length":3051,"saved":false}
{"ts":1352132884210,"patch":[[{"diffs":[[0,"ibution:"],[1,"osmDataAttr"],[0,"})\r\nvar "]],"start1":591,"start2":591,"length1":16,"length2":27}]],"length":3062,"saved":false}
{"ts":1352132890219,"patch":[[{"diffs":[[0,"est\": mq"],[1,",\r\n    "],[0,"\r\n}\r\nvar"]],"start1":829,"start2":829,"length1":16,"length2":23}]],"length":3069,"saved":false}
{"ts":1352132891470,"patch":[[{"diffs":[[0,"\": mq,\r\n    "],[1,"\""],[0,"\r\n}\r\nvar ove"]],"start1":832,"start2":832,"length1":24,"length2":25}]],"length":3070,"saved":false}
{"ts":1352132892966,"patch":[[{"diffs":[[0,",\r\n    \""],[1,"Op"],[0,"\r\n}\r\nvar"]],"start1":837,"start2":837,"length1":16,"length2":18}]],"length":3072,"saved":false}
{"ts":1352132893476,"patch":[[{"diffs":[[0,"\n    \"Op"],[1,"en"],[0,"\r\n}\r\nvar"]],"start1":839,"start2":839,"length1":16,"length2":18}]],"length":3074,"saved":false}
{"ts":1352132896462,"patch":[[{"diffs":[[0,"   \"Open"],[1," Street Map\":"],[0,"\r\n}\r\nvar"]],"start1":841,"start2":841,"length1":16,"length2":29}]],"length":3087,"saved":false}
{"ts":1352132898672,"patch":[[{"diffs":[[0,"et Map\":"],[1,"osm"],[0,"\r\n}\r\nvar"]],"start1":854,"start2":854,"length1":16,"length2":19}]],"length":3090,"saved":false}
